(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{58:function(t,e,n){},59:function(t,e,n){},61:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(11),u=n.n(a),s=n(6),o=n(4),i=n(8),f=n(27),l=n(5),b={filterContact:Object(o.b)("contacts/filter")},p=n(2),h=n.n(p),d=n(7),j=n(10),O=n.n(j);function m(){return(m=Object(d.a)(h.a.mark((function t(){var e,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("/contacts");case 2:return e=t.sent,n=e.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(){return(v=Object(d.a)(h.a.mark((function t(e){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.post("/contacts",e);case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(){return(C=Object(d.a)(h.a.mark((function t(e){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.delete("/contacts/".concat(e));case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}O.a.defaults.baseURL="http://localhost:3004";var x,y={fetchContacts:function(){return m.apply(this,arguments)},fetchAddContacts:function(t){return v.apply(this,arguments)},fetchDeleteContacts:function(t){return C.apply(this,arguments)}},w=Object(o.c)("\u0441ontacts/fetchContactsRequest",function(){var t=Object(d.a)(h.a.mark((function t(e,n){var r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,y.fetchContacts();case 4:return c=t.sent,t.abrupt("return",c);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),g=Object(o.c)("\u0441ontacts/fetchAddContactsRequest",function(){var t=Object(d.a)(h.a.mark((function t(e,n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,y.fetchAddContacts(e);case 4:return t.abrupt("return",e);case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",r(t.t0));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,n){return t.apply(this,arguments)}}()),k=Object(o.c)("\u0441ontacts/fetchDeleteContactsRequest",function(){var t=Object(d.a)(h.a.mark((function t(e,n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,y.fetchDeleteContacts(e);case 4:return t.abrupt("return",e);case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",r(t.t0));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,n){return t.apply(this,arguments)}}()),A={fetchContacts:w,fetchAddContacts:g,fetchDeleteContacts:k},D=Object(o.d)([],(x={},Object(i.a)(x,w.fulfilled,(function(t,e){return e.payload})),Object(i.a)(x,g.fulfilled,(function(t,e){return[e.payload].concat(Object(f.a)(t))})),Object(i.a)(x,k.fulfilled,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),x)),q=Object(o.d)("",Object(i.a)({},b.filterContact,(function(t,e){return e.payload}))),V=Object(l.b)({items:D,filter:q}),z=Object(o.a)({reducer:{contacts:V}}),F=(n(58),n(59),n(17)),R=n(63),S=n(12),E=function(t){return t.contacts.items},I=function(t){return t.contacts.filter},J=Object(S.a)([E,I],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),L={getContactsItems:E,getContactsFilter:I,getVisibleContacts:J},W=n(1);function Z(){var t=Object(r.useState)(""),e=Object(F.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)(""),u=Object(F.a)(a,2),o=u[0],i=u[1],f=Object(s.c)(L.getContactsItems),l=Object(s.b)();Object(r.useEffect)((function(){return l(A.fetchContacts())}),[l]);var b=function(t){var e=t.target,n=e.name,r=e.value;switch(n){case"name":c(r);break;case"number":i(r);break;default:return}};return Object(W.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),f.find((function(t){return n===t.name})))return c(""),i(""),alert("".concat(n," already exists. Try another name"));l(A.fetchAddContacts({id:Object(R.a)(),name:n,number:o}))},children:[Object(W.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"name Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan.",required:!0,value:n,onChange:b}),Object(W.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"The telephone number must contain numbers and may contain spaces, dashes, parentheses and may start with +",required:!0,value:o,onChange:b}),Object(W.jsx)("button",{type:"submit",children:"Add contact"})]})}var B=function(){var t=Object(s.c)(L.getVisibleContacts),e=Object(s.b)();return 0===t.length?null:Object(W.jsx)("ul",{children:t.map((function(t){return Object(W.jsxs)("li",{children:[t.name,": ",t.number,Object(W.jsx)("button",{onClick:function(n){return e(A.fetchDeleteContacts(t.id))},children:"Delete"})]},t.id)}))})},M=function(){var t=Object(s.c)(L.getContactsFilter),e=Object(s.b)(b.filterContact);return Object(W.jsx)("input",{type:"text",onChange:function(t){return e(b.filterContact(t.target.value))},value:t,placeholder:"Enter name "})};function T(){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("h1",{children:"Phonebook"}),Object(W.jsx)(Z,{}),Object(W.jsx)("h2",{children:"Filter"}),Object(W.jsx)(M,{}),Object(W.jsx)(B,{})]})}u.a.render(Object(W.jsx)(c.a.StrictMode,{children:Object(W.jsx)(s.a,{store:z,children:Object(W.jsx)(T,{})})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.a54f05b6.chunk.js.map